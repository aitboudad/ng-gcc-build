{"version":3,"file":"core.umd.js","sources":["~/@ngx-translate/core/index.ts","~/@ngx-translate/core/translate.pipe.ts","~/@ngx-translate/core/translate.service.ts","~/@ngx-translate/core/translate.parser.ts","~/@ngx-translate/core/util.ts","~/@ngx-translate/core/missing-translation-handler.ts","~/@ngx-translate/core/translate.compiler.ts","~/@ngx-translate/core/translate.store.ts","~/@ngx-translate/core/translate.loader.ts"],"sourcesContent":["import {NgModule, ModuleWithProviders, Provider} from '@angular/core';\nimport {TranslateLoader, TranslateFakeLoader} from './translate.loader';\nimport {TranslateService} from './translate.service';\nimport {MissingTranslationHandler, FakeMissingTranslationHandler} from './missing-translation-handler';\nimport {TranslateParser, TranslateDefaultParser} from './translate.parser';\nimport {TranslateCompiler, TranslateFakeCompiler} from './translate.compiler';\n// import {TranslateDirective} from \"./translate.directive\";\n\nimport {TranslatePipe} from './translate.pipe';\nimport {TranslateStore} from './translate.store';\nimport {USE_STORE} from './translate.service';\nimport {USE_DEFAULT_LANG} from './translate.service';\n\nexport {TranslateLoader,TranslateFakeLoader} from './translate.loader';\nexport {USE_STORE,USE_DEFAULT_LANG,TranslationChangeEvent,LangChangeEvent,DefaultLangChangeEvent,TranslateService} from './translate.service';\nexport {MissingTranslationHandlerParams,MissingTranslationHandler,FakeMissingTranslationHandler} from './missing-translation-handler';\nexport {TranslateParser,TranslateDefaultParser} from './translate.parser';\nexport {TranslateCompiler,TranslateFakeCompiler} from './translate.compiler';\n// export * from \"./translate.directive\";\nexport {TranslatePipe} from './translate.pipe';\n\nexport interface TranslateModuleConfig {\n    loader?: Provider;\n    compiler?: Provider;\n    parser?: Provider;\n    missingTranslationHandler?: Provider;\n    // isolate the service instance, only works for lazy loaded modules or components with the \"providers\" property\n    isolate?: boolean;\n    useDefaultLang?: boolean;\n}\nexport class TranslateModule {\n/**\n * Use this method in your root module to provide the TranslateService\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(config: TranslateModuleConfig = {}): ModuleWithProviders {\n        return {\n            ngModule: TranslateModule,\n            providers: [\n                config.loader || {provide: TranslateLoader, useClass: TranslateFakeLoader},\n                config.compiler || {provide: TranslateCompiler, useClass: TranslateFakeCompiler},\n                config.parser || {provide: TranslateParser, useClass: TranslateDefaultParser},\n                config.missingTranslationHandler || {provide: MissingTranslationHandler, useClass: FakeMissingTranslationHandler},\n                TranslateStore,\n                {provide: USE_STORE, useValue: config.isolate},\n                {provide: USE_DEFAULT_LANG, useValue: config.useDefaultLang},\n                TranslateService\n            ]\n        };\n    }\n/**\n * Use this method in your other (non root) modules to import the directive/pipe\n * @param {?=} config\n * @return {?}\n */\nstatic forChild(config: TranslateModuleConfig = {}): ModuleWithProviders {\n        return {\n            ngModule: TranslateModule,\n            providers: [\n                config.loader || {provide: TranslateLoader, useClass: TranslateFakeLoader},\n                config.compiler || {provide: TranslateCompiler, useClass: TranslateFakeCompiler},\n                config.parser || {provide: TranslateParser, useClass: TranslateDefaultParser},\n                config.missingTranslationHandler || {provide: MissingTranslationHandler, useClass: FakeMissingTranslationHandler},\n                {provide: USE_STORE, useValue: config.isolate},\n                {provide: USE_DEFAULT_LANG, useValue: config.useDefaultLang},\n                TranslateService\n            ]\n        };\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n    declarations: [\n        TranslatePipe,\n        // TranslateDirective\n    ],\n    exports: [\n        TranslatePipe,\n        // TranslateDirective\n    ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TranslateModule_tsickle_Closure_declarations() {\n/** @type {?} */\nTranslateModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTranslateModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {PipeTransform, Pipe, Injectable, EventEmitter, OnDestroy, ChangeDetectorRef} from '@angular/core';\nimport {TranslateService, LangChangeEvent, TranslationChangeEvent, DefaultLangChangeEvent} from './translate.service';\nimport {equals, isDefined} from './util';\nexport class TranslatePipe implements PipeTransform, OnDestroy {\n    value: string = '';\n    lastKey: string;\n    lastParams: any[];\n    onTranslationChange: EventEmitter<TranslationChangeEvent>;\n    onLangChange: EventEmitter<LangChangeEvent>;\n    onDefaultLangChange: EventEmitter<DefaultLangChangeEvent>;\n/**\n * @param {?} translate\n * @param {?} _ref\n */\nconstructor(private translate: TranslateService,\nprivate _ref: ChangeDetectorRef) {\n    }\n/**\n * @param {?} key\n * @param {?=} interpolateParams\n * @param {?=} translations\n * @return {?}\n */\nupdateValue(key: string, interpolateParams?: Object, translations?: any): void {\n        let /** @type {?} */ onTranslation = (res: string) => {\n            this.value = res !== undefined ? res : key;\n            this.lastKey = key;\n            this._ref.markForCheck();\n        };\n        if(translations) {\n            let /** @type {?} */ res = this.translate.getParsedResult(translations, key, interpolateParams);\n            if(typeof res.subscribe === 'function') {\n                res.subscribe(onTranslation);\n            } else {\n                onTranslation(res);\n            }\n        }\n        this.translate.get(key, interpolateParams).subscribe(onTranslation);\n    }\n/**\n * @param {?} query\n * @param {...?} args\n * @return {?}\n */\ntransform(query: string, ...args: any[]): any {\n        if(!query || query.length === 0) {\n            return query;\n        }\n\n        // if we ask another time for the same key, return the last value\n        if(equals(query, this.lastKey) && equals(args, this.lastParams)) {\n            return this.value;\n        }\n\n        let /** @type {?} */ interpolateParams: Object;\n        if(isDefined(args[0]) && args.length) {\n            if(typeof args[0] === 'string' && args[0].length) {\n                // we accept objects written in the template such as {n:1}, {'n':1}, {n:'v'}\n                // which is why we might need to change it to real JSON objects such as {\"n\":1} or {\"n\":\"v\"}\n                let /** @type {?} */ validArgs: string = args[0]\n                    .replace(/(\\')?([a-zA-Z0-9_]+)(\\')?(\\s)?:/g, '\"$2\":')\n                    .replace(/:(\\s)?(\\')(.*?)(\\')/g, ':\"$3\"');\n                try {\n                    interpolateParams = JSON.parse(validArgs);\n                } catch( /** @type {?} */e) {\n                    throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${args[0]}`);\n                }\n            } else if(typeof args[0] === 'object' && !Array.isArray(args[0])) {\n                interpolateParams = args[0];\n            }\n        }\n\n        // store the query, in case it changes\n        this.lastKey = query;\n\n        // store the params, in case they change\n        this.lastParams = args;\n\n        // set the value\n        this.updateValue(query, interpolateParams);\n\n        // if there is a subscription to onLangChange, clean it\n        this._dispose();\n\n        // subscribe to onTranslationChange event, in case the translations change\n        if(!this.onTranslationChange) {\n            this.onTranslationChange = this.translate.onTranslationChange.subscribe((event: TranslationChangeEvent) => {\n                if(this.lastKey && event.lang === this.translate.currentLang) {\n                    this.lastKey = null;\n                    this.updateValue(query, interpolateParams, event.translations);\n                }\n            });\n        }\n\n        // subscribe to onLangChange event, in case the language changes\n        if(!this.onLangChange) {\n            this.onLangChange = this.translate.onLangChange.subscribe((event: LangChangeEvent) => {\n                if(this.lastKey) {\n                    this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n                    this.updateValue(query, interpolateParams, event.translations);\n                }\n            });\n        }\n\n        // subscribe to onDefaultLangChange event, in case the default language changes\n        if(!this.onDefaultLangChange) {\n            this.onDefaultLangChange = this.translate.onDefaultLangChange.subscribe(() => {\n                if(this.lastKey) {\n                    this.lastKey = null; // we want to make sure it doesn't return the same value until it's been updated\n                    this.updateValue(query, interpolateParams);\n                }\n            });\n        }\n\n        return this.value;\n    }\n/**\n * Clean any existing subscription to change events\n * @return {?}\n */\n_dispose(): void {\n        if(typeof this.onTranslationChange !== 'undefined') {\n            this.onTranslationChange.unsubscribe();\n            this.onTranslationChange = undefined;\n        }\n        if(typeof this.onLangChange !== 'undefined') {\n            this.onLangChange.unsubscribe();\n            this.onLangChange = undefined;\n        }\n        if(typeof this.onDefaultLangChange !== 'undefined') {\n            this.onDefaultLangChange.unsubscribe();\n            this.onDefaultLangChange = undefined;\n        }\n    }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n        this._dispose();\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n{ type: Pipe, args: [{\n    name: 'translate',\n    pure: false // required to update the value when the promise is resolved\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: TranslateService, },\n{type: ChangeDetectorRef, },\n];\n}\n\nfunction TranslatePipe_tsickle_Closure_declarations() {\n/** @type {?} */\nTranslatePipe.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTranslatePipe.ctorParameters;\n/** @type {?} */\nTranslatePipe.prototype.value;\n/** @type {?} */\nTranslatePipe.prototype.lastKey;\n/** @type {?} */\nTranslatePipe.prototype.lastParams;\n/** @type {?} */\nTranslatePipe.prototype.onTranslationChange;\n/** @type {?} */\nTranslatePipe.prototype.onLangChange;\n/** @type {?} */\nTranslatePipe.prototype.onDefaultLangChange;\n/** @type {?} */\nTranslatePipe.prototype.translate;\n/** @type {?} */\nTranslatePipe.prototype._ref;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable, EventEmitter, Inject, InjectionToken} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport'rxjs/add/observable/of';\nimport'rxjs/add/operator/concat';\nimport'rxjs/add/operator/share';\nimport'rxjs/add/operator/map';\nimport'rxjs/add/operator/merge';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/operator/toArray';\nimport'rxjs/add/operator/take';\n\nimport {TranslateStore} from './translate.store';\nimport {TranslateLoader} from './translate.loader';\nimport {TranslateCompiler} from './translate.compiler';\nimport {MissingTranslationHandler, MissingTranslationHandlerParams} from './missing-translation-handler';\nimport {TranslateParser} from './translate.parser';\nimport {mergeDeep, isDefined} from './util';\n\nexport const /** @type {?} */ USE_STORE = new InjectionToken<string>('USE_STORE');\nexport const /** @type {?} */ USE_DEFAULT_LANG = new InjectionToken<string>('USE_DEFAULT_LANG');\n\nexport interface TranslationChangeEvent {\n    translations: any;\n    lang: string;\n}\n\nexport interface LangChangeEvent {\n    lang: string;\n    translations: any;\n}\n\nexport interface DefaultLangChangeEvent {\n    lang: string;\n    translations: any;\n}\n\ndeclare interface Window {\n    navigator: any;\n}\ndeclare const window: Window;\nexport class TranslateService {\nprivate loadingTranslations: Observable<any>;\nprivate pending: boolean = false;\nprivate _onTranslationChange: EventEmitter<TranslationChangeEvent> = new EventEmitter<TranslationChangeEvent>();\nprivate _onLangChange: EventEmitter<LangChangeEvent> = new EventEmitter<LangChangeEvent>();\nprivate _onDefaultLangChange: EventEmitter<DefaultLangChangeEvent> = new EventEmitter<DefaultLangChangeEvent>();\nprivate _defaultLang: string;\nprivate _currentLang: string;\nprivate _langs: Array<string> = [];\nprivate _translations: any = {};\nprivate _translationRequests: any  = {};\n/**\n * An EventEmitter to listen to translation change events\n * onTranslationChange.subscribe((params: TranslationChangeEvent) => {\n *     // do something\n * });\n * @return {?}\n */\nget onTranslationChange(): EventEmitter<TranslationChangeEvent> {\n        return this.isolate ? this._onTranslationChange : this.store.onTranslationChange;\n    }\n/**\n * An EventEmitter to listen to lang change events\n * onLangChange.subscribe((params: LangChangeEvent) => {\n *     // do something\n * });\n * @return {?}\n */\nget onLangChange(): EventEmitter<LangChangeEvent> {\n        return this.isolate ? this._onLangChange : this.store.onLangChange;\n    }\n/**\n * An EventEmitter to listen to default lang change events\n * onDefaultLangChange.subscribe((params: DefaultLangChangeEvent) => {\n *     // do something\n * });\n * @return {?}\n */\nget onDefaultLangChange() {\n        return this.isolate ? this._onDefaultLangChange : this.store.onDefaultLangChange;\n    }\n/**\n * The default lang to fallback when translations are missing on the current lang\n * @return {?}\n */\nget defaultLang(): string {\n        return this.isolate ? this._defaultLang : this.store.defaultLang;\n    }\n/**\n * @param {?} defaultLang\n * @return {?}\n */\nset defaultLang(defaultLang: string) {\n        if(this.isolate) {\n            this._defaultLang = defaultLang;\n        } else {\n            this.store.defaultLang = defaultLang;\n        }\n    }\n/**\n * The lang currently used\n * @return {?}\n */\nget currentLang(): string {\n        return this.isolate ? this._currentLang : this.store.currentLang;\n    }\n/**\n * @param {?} currentLang\n * @return {?}\n */\nset currentLang(currentLang: string) {\n        if(this.isolate) {\n            this._currentLang = currentLang;\n        } else {\n            this.store.currentLang = currentLang;\n        }\n    }\n/**\n * an array of langs\n * @return {?}\n */\nget langs(): string[] {\n        return this.isolate ? this._langs : this.store.langs;\n    }\n/**\n * @param {?} langs\n * @return {?}\n */\nset langs(langs: string[]) {\n        if(this.isolate) {\n            this._langs = langs;\n        } else {\n            this.store.langs = langs;\n        }\n    }\n/**\n * a list of translations per lang\n * @return {?}\n */\nget translations(): any {\n        return this.isolate ? this._translations : this.store.translations;\n    }\n/**\n * @param {?} translations\n * @return {?}\n */\nset translations(translations: any) {\n        if(this.isolate) {\n            this._currentLang = translations;\n        } else {\n            this.store.translations = translations;\n        }\n    }\n/**\n *\n * @param {?} store an instance of the store (that is supposed to be unique)\n * @param {?} currentLoader An instance of the loader currently used\n * @param {?} compiler An instance of the compiler currently used\n * @param {?} parser An instance of the parser currently used\n * @param {?} missingTranslationHandler A handler for missing translations.\n * @param {?=} useDefaultLang whether we should use default language translation when current language translation is missing.\n * @param {?=} isolate whether this service should use the store or not\n */\nconstructor(public store: TranslateStore,\npublic currentLoader: TranslateLoader,\npublic compiler: TranslateCompiler,\npublic parser: TranslateParser,\npublic missingTranslationHandler: MissingTranslationHandler,\nprivate useDefaultLang: boolean = true,\nprivate isolate: boolean = false) {\n    }\n/**\n * Sets the default language to use as a fallback\n * @param {?} lang\n * @return {?}\n */\npublic setDefaultLang(lang: string): void {\n        if(lang === this.defaultLang) {\n            return;\n        }\n\n        let /** @type {?} */ pending: Observable<any> = this.retrieveTranslations(lang);\n\n        if(typeof pending !== \"undefined\") {\n            // on init set the defaultLang immediately\n            if(!this.defaultLang) {\n                this.defaultLang = lang;\n            }\n\n            pending.take(1)\n                .subscribe((res: any) => {\n                    this.changeDefaultLang(lang);\n                });\n        } else { // we already have this language\n            this.changeDefaultLang(lang);\n        }\n    }\n/**\n * Gets the default language used\n * @return {?} string\n */\npublic getDefaultLang(): string {\n        return this.defaultLang;\n    }\n/**\n * Changes the lang currently used\n * @param {?} lang\n * @return {?}\n */\npublic use(lang: string): Observable<any> {\n        // don't change the language if the language given is already selected\n        if(lang === this.currentLang) {\n            return Observable.of(this.translations[lang]);\n        }\n        \n        let /** @type {?} */ pending: Observable<any> = this.retrieveTranslations(lang);\n\n        if(typeof pending !== \"undefined\") {\n            // on init set the currentLang immediately\n            if(!this.currentLang) {\n                this.currentLang = lang;\n            }\n\n            pending.take(1)\n                .subscribe((res: any) => {\n                    this.changeLang(lang);\n                });\n\n            return pending;\n        } else { // we have this language, return an Observable\n            this.changeLang(lang);\n\n            return Observable.of(this.translations[lang]);\n        }\n    }\n/**\n * Retrieves the given translations\n * @param {?} lang\n * @return {?}\n */\nprivate retrieveTranslations(lang: string): Observable<any> {\n        let /** @type {?} */ pending: Observable<any>;\n\n        // if this language is unavailable, ask for it\n        if(typeof this.translations[lang] === \"undefined\") {\n            this._translationRequests[lang] = this._translationRequests[lang] || this.getTranslation(lang);\n            pending = this._translationRequests[lang];\n        }\n\n        return pending;\n    }\n/**\n * Gets an object of translations for a given language with the current loader\n * and passes it through the compiler\n * @param {?} lang\n * @return {?}\n */\npublic getTranslation(lang: string): Observable<any> {\n        this.pending = true;\n        this.loadingTranslations = this.currentLoader.getTranslation(lang).share();\n\n        this.loadingTranslations.take(1)\n            .subscribe((res: Object) => {\n                this.translations[lang] = this.compiler.compileTranslations(res, lang);\n                this.updateLangs();\n                this.pending = false;\n            }, (err: any) => {\n                this.pending = false;\n            });\n\n        return this.loadingTranslations;\n    }\n/**\n * Manually sets an object of translations for a given language\n * after passing it through the compiler\n * @param {?} lang\n * @param {?} translations\n * @param {?=} shouldMerge\n * @return {?}\n */\npublic setTranslation(lang: string, translations: Object, shouldMerge: boolean = false): void {\n        translations = this.compiler.compileTranslations(translations, lang);\n        if(shouldMerge && this.translations[lang]) {\n            this.translations[lang] = mergeDeep(this.translations[lang], translations);\n        } else {\n            this.translations[lang] = translations;\n        }\n        this.updateLangs();\n        this.onTranslationChange.emit({lang: lang, translations: this.translations[lang]});\n    }\n/**\n * Returns an array of currently available langs\n * @return {?}\n */\npublic getLangs(): Array<string> {\n        return this.langs;\n    }\n/**\n * @param {?} langs \n * Add available langs\n * @return {?}\n */\npublic addLangs(langs: Array<string>): void {\n        langs.forEach((lang: string) => {\n            if(this.langs.indexOf(lang) === -1) {\n                this.langs.push(lang);\n            }\n        });\n    }\n/**\n * Update the list of available langs\n * @return {?}\n */\nprivate updateLangs(): void {\n        this.addLangs(Object.keys(this.translations));\n    }\n/**\n * Returns the parsed result of the translations\n * @param {?} translations\n * @param {?} key\n * @param {?=} interpolateParams\n * @return {?}\n */\npublic getParsedResult(translations: any, key: any, interpolateParams?: Object): any {\n        let /** @type {?} */ res: string | Observable<string>;\n\n        if(key instanceof Array) {\n            let /** @type {?} */ result: any = {}, /** @type {?} */\n                observables: boolean = false;\n            for(let /** @type {?} */ k of key) {\n                result[k] = this.getParsedResult(translations, k, interpolateParams);\n                if(typeof result[k].subscribe === \"function\") {\n                    observables = true;\n                }\n            }\n            if(observables) {\n                let /** @type {?} */ mergedObs: any;\n                for(let /** @type {?} */ k of key) {\n                    let /** @type {?} */ obs = typeof result[k].subscribe === \"function\" ? result[k] : Observable.of(result[k]);\n                    if(typeof mergedObs === \"undefined\") {\n                        mergedObs = obs;\n                    } else {\n                        mergedObs = mergedObs.merge(obs);\n                    }\n                }\n                return mergedObs.toArray().map((arr: Array<string>) => {\n                    let /** @type {?} */ obj: any = {};\n                    arr.forEach((value: string, index: number) => {\n                        obj[key[index]] = value;\n                    });\n                    return obj;\n                });\n            }\n            return result;\n        }\n\n        if(translations) {\n            res = this.parser.interpolate(this.parser.getValue(translations, key), interpolateParams);\n        }\n\n        if(typeof res === \"undefined\" && this.defaultLang && this.defaultLang !== this.currentLang && this.useDefaultLang) {\n            res = this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang], key), interpolateParams);\n        }\n\n        if(typeof res === \"undefined\") {\n            let /** @type {?} */ params: MissingTranslationHandlerParams = {key, translateService: this};\n            if(typeof interpolateParams !== 'undefined') {\n                params.interpolateParams = interpolateParams;\n            }\n            res = this.missingTranslationHandler.handle(params);\n        }\n\n        return typeof res !== \"undefined\" ? res : key;\n    }\n/**\n * Gets the translated value of a key (or an array of keys)\n * @param {?} key\n * @param {?=} interpolateParams\n * @return {?}\n */\npublic get(key: string | Array<string>, interpolateParams?: Object): Observable<string | any> {\n        if(!isDefined(key) || !key.length) {\n            throw new Error(`Parameter \"key\" required`);\n        }\n        // check if we are loading a new translation to use\n        if(this.pending) {\n            return Observable.create((observer: Observer<string>) => {\n                let /** @type {?} */ onComplete = (res: string) => {\n                    observer.next(res);\n                    observer.complete();\n                };\n                let /** @type {?} */ onError = (err: any) => {\n                    observer.error(err);\n                };\n                this.loadingTranslations.subscribe((res: any) => {\n                    res = this.getParsedResult(res, key, interpolateParams);\n                    if(typeof res.subscribe === \"function\") {\n                        res.subscribe(onComplete, onError);\n                    } else {\n                        onComplete(res);\n                    }\n                }, onError);\n            });\n        } else {\n            let /** @type {?} */ res = this.getParsedResult(this.translations[this.currentLang], key, interpolateParams);\n            if(typeof res.subscribe === \"function\") {\n                return res;\n            } else {\n                return Observable.of(res);\n            }\n        }\n    }\n/**\n * Returns a stream of translated values of a key (or an array of keys) which updates\n * whenever the language changes.\n * @param {?} key\n * @param {?=} interpolateParams\n * @return {?}\n */\npublic stream(key: string | Array<string>, interpolateParams?: Object): Observable<string | any> {\n        if(!isDefined(key) || !key.length) {\n            throw new Error(`Parameter \"key\" required`);\n        }\n\n        return this\n            .get(key, interpolateParams)\n            .concat(this.onLangChange.switchMap((event: LangChangeEvent) => {\n                const /** @type {?} */ res = this.getParsedResult(event.translations, key, interpolateParams);\n                if(typeof res.subscribe === \"function\") {\n                    return res;\n                } else {\n                    return Observable.of(res);\n                }\n            }));\n    }\n/**\n * Returns a translation instantly from the internal state of loaded translation.\n * All rules regarding the current language, the preferred language of even fallback languages will be used except any promise handling.\n * @param {?} key\n * @param {?=} interpolateParams\n * @return {?}\n */\npublic instant(key: string | Array<string>, interpolateParams?: Object): string | any {\n        if(!isDefined(key) || !key.length) {\n            throw new Error(`Parameter \"key\" required`);\n        }\n\n        let /** @type {?} */ res = this.getParsedResult(this.translations[this.currentLang], key, interpolateParams);\n        if(typeof res.subscribe !== \"undefined\") {\n            if(key instanceof Array) {\n                let /** @type {?} */ obj: any = {};\n                key.forEach((value: string, index: number) => {\n                    obj[key[index]] = key[index];\n                });\n                return obj;\n            }\n            return key;\n        } else {\n            return res;\n        }\n    }\n/**\n * Sets the translated value of a key, after compiling it\n * @param {?} key\n * @param {?} value\n * @param {?=} lang\n * @return {?}\n */\npublic set(key: string, value: string, lang: string = this.currentLang): void {\n        this.translations[lang][key] = this.compiler.compile(value, lang);\n        this.updateLangs();\n        this.onTranslationChange.emit({lang: lang, translations: this.translations[lang]});\n    }\n/**\n * Changes the current lang\n * @param {?} lang\n * @return {?}\n */\nprivate changeLang(lang: string): void {\n        this.currentLang = lang;\n        this.onLangChange.emit({lang: lang, translations: this.translations[lang]});\n\n        // if there is no default lang, use the one that we just set\n        if(!this.defaultLang) {\n            this.changeDefaultLang(lang);\n        }\n    }\n/**\n * Changes the default lang\n * @param {?} lang\n * @return {?}\n */\nprivate changeDefaultLang(lang: string): void {\n        this.defaultLang = lang;\n        this.onDefaultLangChange.emit({lang: lang, translations: this.translations[lang]});\n    }\n/**\n * Allows to reload the lang file from the file\n * @param {?} lang\n * @return {?}\n */\npublic reloadLang(lang: string): Observable<any> {\n        this.resetLang(lang);\n        return this.getTranslation(lang);\n    }\n/**\n * Deletes inner translation\n * @param {?} lang\n * @return {?}\n */\npublic resetLang(lang: string): void {\n        this._translationRequests[lang] = undefined;\n        this.translations[lang] = undefined;\n    }\n/**\n * Returns the language code name from the browser, e.g. \"de\"\n * \n * @return {?} string\n */\npublic getBrowserLang(): string {\n        if(typeof window === 'undefined' || typeof window.navigator === 'undefined') {\n            return undefined;\n        }\n\n        let /** @type {?} */ browserLang: any = window.navigator.languages ? window.navigator.languages[0] : null;\n        browserLang = browserLang || window.navigator.language || window.navigator.browserLanguage || window.navigator.userLanguage;\n\n        if(browserLang.indexOf('-') !== -1) {\n            browserLang = browserLang.split('-')[0];\n        }\n\n        if(browserLang.indexOf('_') !== -1) {\n            browserLang = browserLang.split('_')[0];\n        }\n\n        return browserLang;\n    }\n/**\n * Returns the culture language code name from the browser, e.g. \"de-DE\"\n * \n * @return {?} string\n */\npublic getBrowserCultureLang(): string {\n        if(typeof window === 'undefined' || typeof window.navigator === 'undefined') {\n            return undefined;\n        }\n\n        let /** @type {?} */ browserCultureLang: any = window.navigator.languages ? window.navigator.languages[0] : null;\n        browserCultureLang = browserCultureLang || window.navigator.language || window.navigator.browserLanguage || window.navigator.userLanguage;\n\n        return browserCultureLang;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: TranslateStore, },\n{type: TranslateLoader, },\n{type: TranslateCompiler, },\n{type: TranslateParser, },\n{type: MissingTranslationHandler, },\n{type: undefined, decorators: [{ type: Inject, args: [USE_DEFAULT_LANG, ] }, ]},\n{type: undefined, decorators: [{ type: Inject, args: [USE_STORE, ] }, ]},\n];\n}\n\nfunction TranslateService_tsickle_Closure_declarations() {\n/** @type {?} */\nTranslateService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTranslateService.ctorParameters;\n/** @type {?} */\nTranslateService.prototype.loadingTranslations;\n/** @type {?} */\nTranslateService.prototype.pending;\n/** @type {?} */\nTranslateService.prototype._onTranslationChange;\n/** @type {?} */\nTranslateService.prototype._onLangChange;\n/** @type {?} */\nTranslateService.prototype._onDefaultLangChange;\n/** @type {?} */\nTranslateService.prototype._defaultLang;\n/** @type {?} */\nTranslateService.prototype._currentLang;\n/** @type {?} */\nTranslateService.prototype._langs;\n/** @type {?} */\nTranslateService.prototype._translations;\n/** @type {?} */\nTranslateService.prototype._translationRequests;\n/** @type {?} */\nTranslateService.prototype.store;\n/** @type {?} */\nTranslateService.prototype.currentLoader;\n/** @type {?} */\nTranslateService.prototype.compiler;\n/** @type {?} */\nTranslateService.prototype.parser;\n/** @type {?} */\nTranslateService.prototype.missingTranslationHandler;\n/** @type {?} */\nTranslateService.prototype.useDefaultLang;\n/** @type {?} */\nTranslateService.prototype.isolate;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\nimport {isDefined} from './util';\n/**\n * @abstract\n */\nexport abstract class TranslateParser {\n/**\n * Interpolates a string to replace parameters\n * \"This is a {{ key }}\" ==> \"This is a value\", with params = { key: \"value\" }\n * @abstract\n * @param {?} expr\n * @param {?=} params\n * @return {?}\n */\ninterpolate(expr: string | Function, params?: any) {}\n/**\n * Gets a value from an object by composed key\n * parser.getValue({ key1: { keyA: 'valueI' }}, 'key1.keyA') ==> 'valueI'\n * @abstract\n * @param {?} target\n * @param {?} key\n * @return {?}\n */\ngetValue(target: any, key: string) {}\n}\nexport class TranslateDefaultParser extends TranslateParser {\n    templateMatcher: RegExp = /{{\\s?([^{}\\s]*)\\s?}}/g;\n/**\n * @param {?} expr\n * @param {?=} params\n * @return {?}\n */\npublic interpolate(expr: string | Function, params?: any): string {\n        let /** @type {?} */ result: string;\n\n        if(typeof expr === 'string') {\n            result = this.interpolateString(expr, params);\n        } else if(typeof expr === 'function') {\n            result =  this.interpolateFunction(expr, params);\n        } else {\n            // this should not happen, but an unrelated TranslateService test depends on it\n            result = /** @type {?} */(( expr as string));\n        }\n\n        return result;\n    }\n/**\n * @param {?} target\n * @param {?} key\n * @return {?}\n */\ngetValue(target: any, key: string): any {\n        let /** @type {?} */ keys = key.split('.');\n        key = '';\n        do {\n            key += keys.shift();\n            if(isDefined(target) && isDefined(target[key]) && (typeof target[key] === 'object' || !keys.length)) {\n                target = target[key];\n                key = '';\n            } else if(!keys.length) {\n                target = undefined;\n            } else {\n                key += '.';\n            }\n        } while(keys.length);\n\n        return target;\n    }\n/**\n * @param {?} fn\n * @param {?=} params\n * @return {?}\n */\nprivate interpolateFunction(fn: Function, params?: any) {\n        return fn(params);\n    }\n/**\n * @param {?} expr\n * @param {?=} params\n * @return {?}\n */\nprivate interpolateString(expr: string, params?: any) {\n        if (!params) {\n            return expr;\n        }\n\n        return expr.replace(this.templateMatcher, (substring: string, b: string) => {\n            let /** @type {?} */ r = this.getValue(params, b);\n            return isDefined(r) ? r : substring;\n        });\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TranslateDefaultParser_tsickle_Closure_declarations() {\n/** @type {?} */\nTranslateDefaultParser.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTranslateDefaultParser.ctorParameters;\n/** @type {?} */\nTranslateDefaultParser.prototype.templateMatcher;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * \\@name equals\n * \n * \\@description \n * Determines if two objects or two values are equivalent.\n * \n * Two objects or values are considered equivalent if at least one of the following is true:\n * \n * * Both objects or values pass `===` comparison.\n * * Both objects or values are of the same type and all of their properties are equal by\n *   comparing them with `equals`.\n * \n * @param {?} o1\n * @param {?} o2\n * @return {?}\n */\nexport function equals(o1: any, o2: any): boolean {\n    if (o1 === o2) return true;\n    if (o1 === null || o2 === null) return false;\n    if (o1 !== o1 && o2 !== o2) return true; // NaN === NaN\n    let /** @type {?} */ t1 = typeof o1, /** @type {?} */ t2 = typeof o2, /** @type {?} */ length: number, /** @type {?} */ key: any, /** @type {?} */ keySet: any;\n    if (t1 == t2 && t1 == 'object') {\n        if (Array.isArray(o1)) {\n            if (!Array.isArray(o2)) return false;\n            if ((length = o1.length) == o2.length) {\n                for (key = 0; key < length; key++) {\n                    if (!equals(o1[key], o2[key])) return false;\n                }\n                return true;\n            }\n        } else {\n            if (Array.isArray(o2)) {\n                return false;\n            }\n            keySet = Object.create(null);\n            for (key in o1) {\n                if (!equals(o1[key], o2[key])) {\n                    return false;\n                }\n                keySet[key] = true;\n            }\n            for (key in o2) {\n                if (!(key in keySet) && typeof o2[key] !== 'undefined') {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nexport function isDefined(value: any): boolean {\n    return typeof value !== 'undefined' && value !== null;\n}\n/**\n * @param {?} item\n * @return {?}\n */\nexport function isObject(item: any): boolean {\n    return (item && typeof item === 'object' && !Array.isArray(item));\n}\n/**\n * @param {?} target\n * @param {?} source\n * @return {?}\n */\nexport function mergeDeep(target: any, source: any): any {\n    target = JSON.parse(JSON.stringify(target));\n    source = JSON.parse(JSON.stringify(source));\n    let /** @type {?} */ output = Object.assign({}, target);\n    if (isObject(target) && isObject(source)) {\n        Object.keys(source).forEach((key: any) => {\n            if (isObject(source[key])) {\n                if (!(key in target)) {\n                    Object.assign(output, { [key]: source[key] });\n                } else {\n                    output[key] = mergeDeep(target[key], source[key]);\n                }\n            } else {\n                Object.assign(output, { [key]: source[key] });\n            }\n        });\n    }\n    return output;\n}\n","import {TranslateService} from './translate.service';\nimport {Injectable} from '@angular/core';\n\nexport interface MissingTranslationHandlerParams {\n    /**\n     * the key that's missing in translation files\n     *\n     * @type {string}\n     */\n    key: string;\n\n    /**\n     * an instance of the service that was unable to translate the key.\n     *\n     * @type {TranslateService}\n     */\n    translateService: TranslateService;\n\n    /**\n     * interpolation params that were passed along for translating the given key.\n     *\n     * @type {Object}\n     */\n    interpolateParams?: Object;\n}\n/**\n * @abstract\n */\nexport abstract class MissingTranslationHandler {\n/**\n * A function that handles missing translations.\n * \n * @abstract \n * If it returns a value, then this value is used.\n * If it return an observable, the value returned by this observable will be used (except if the method was \"instant\").\n * If it doesn't return then the key will be used as a value\n * @abstract\n * @param {?} params\n * @return {?}\n */\nhandle(params: MissingTranslationHandlerParams) {}\n}\n/**\n * This handler is just a placeholder that does nothing, in case you don't need a missing translation handler at all\n */\nexport class FakeMissingTranslationHandler implements MissingTranslationHandler {\n/**\n * @param {?} params\n * @return {?}\n */\nhandle(params: MissingTranslationHandlerParams): string {\n        return params.key;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction FakeMissingTranslationHandler_tsickle_Closure_declarations() {\n/** @type {?} */\nFakeMissingTranslationHandler.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nFakeMissingTranslationHandler.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Injectable} from '@angular/core';\n/**\n * @abstract\n */\nexport abstract class TranslateCompiler {\n/**\n * @abstract\n * @param {?} value\n * @param {?} lang\n * @return {?}\n */\ncompile(value: string, lang: string) {}\n/**\n * @abstract\n * @param {?} translations\n * @param {?} lang\n * @return {?}\n */\ncompileTranslations(translations: any, lang: string) {}\n}\n/**\n * This compiler is just a placeholder that does nothing, in case you don't need a compiler at all\n */\nexport class TranslateFakeCompiler extends TranslateCompiler {\n/**\n * @param {?} value\n * @param {?} lang\n * @return {?}\n */\ncompile(value: string, lang: string): string | Function {\n        return value;\n    }\n/**\n * @param {?} translations\n * @param {?} lang\n * @return {?}\n */\ncompileTranslations(translations: any, lang: string): any {\n        return translations;\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TranslateFakeCompiler_tsickle_Closure_declarations() {\n/** @type {?} */\nTranslateFakeCompiler.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTranslateFakeCompiler.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {EventEmitter} from '@angular/core';\nimport {DefaultLangChangeEvent, LangChangeEvent, TranslationChangeEvent} from './translate.service';\nexport class TranslateStore {\n/**\n * The default lang to fallback when translations are missing on the current lang\n */\npublic defaultLang: string;\n/**\n * The lang currently used\n */\npublic currentLang: string = this.defaultLang;\n/**\n * a list of translations per lang\n */\npublic translations: any = {};\n/**\n * an array of langs\n */\npublic langs: Array<string> = [];\n/**\n * An EventEmitter to listen to translation change events\n * onTranslationChange.subscribe((params: TranslationChangeEvent) => {\n *     // do something\n * });\n */\npublic onTranslationChange: EventEmitter<TranslationChangeEvent> = new EventEmitter<TranslationChangeEvent>();\n/**\n * An EventEmitter to listen to lang change events\n * onLangChange.subscribe((params: LangChangeEvent) => {\n *     // do something\n * });\n */\npublic onLangChange: EventEmitter<LangChangeEvent> = new EventEmitter<LangChangeEvent>();\n/**\n * An EventEmitter to listen to default lang change events\n * onDefaultLangChange.subscribe((params: DefaultLangChangeEvent) => {\n *     // do something\n * });\n */\npublic onDefaultLangChange: EventEmitter<DefaultLangChangeEvent> = new EventEmitter<DefaultLangChangeEvent>();\n}\n\nfunction TranslateStore_tsickle_Closure_declarations() {\n/**\n * The default lang to fallback when translations are missing on the current lang\n * @type {?}\n */\nTranslateStore.prototype.defaultLang;\n/**\n * The lang currently used\n * @type {?}\n */\nTranslateStore.prototype.currentLang;\n/**\n * a list of translations per lang\n * @type {?}\n */\nTranslateStore.prototype.translations;\n/**\n * an array of langs\n * @type {?}\n */\nTranslateStore.prototype.langs;\n/**\n * An EventEmitter to listen to translation change events\n * onTranslationChange.subscribe((params: TranslationChangeEvent) => {\n *     // do something\n * });\n * @type {?}\n */\nTranslateStore.prototype.onTranslationChange;\n/**\n * An EventEmitter to listen to lang change events\n * onLangChange.subscribe((params: LangChangeEvent) => {\n *     // do something\n * });\n * @type {?}\n */\nTranslateStore.prototype.onLangChange;\n/**\n * An EventEmitter to listen to default lang change events\n * onDefaultLangChange.subscribe((params: DefaultLangChangeEvent) => {\n *     // do something\n * });\n * @type {?}\n */\nTranslateStore.prototype.onDefaultLangChange;\n}\n\n","import {Observable} from 'rxjs/Observable';\nimport {Injectable} from '@angular/core';\n/**\n * @abstract\n */\nexport abstract class TranslateLoader {\n/**\n * @abstract\n * @param {?} lang\n * @return {?}\n */\ngetTranslation(lang: string) {}\n}\n/**\n * This loader is just a placeholder that does nothing, in case you don't need a loader at all\n */\nexport class TranslateFakeLoader extends TranslateLoader {\n/**\n * @param {?} lang\n * @return {?}\n */\ngetTranslation(lang: string): Observable<any> {\n        return Observable.of({});\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction TranslateFakeLoader_tsickle_Closure_declarations() {\n/** @type {?} */\nTranslateFakeLoader.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTranslateFakeLoader.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["NgModule","ChangeDetectorRef","Pipe","Injectable","Inject","Observable","EventEmitter","InjectionToken"],"mappings":"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"}